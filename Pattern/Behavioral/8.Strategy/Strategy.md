# 8. Strategy (Стратегия)
__Суть:__
Определяет семейство алгоритмов, инкапсулирует каждый из них и делает их взаимозаменяемыми.

Шаблон стратегии — это поведенческий шаблон проектирования, который определяет семейство взаимозаменяемых алгоритмов и позволяет использовать их в различных контекстах. Этот шаблон позволяет выбирать алгоритм во время выполнения программы, обеспечивая гибкость и возможность повторного использования кода.

## Задача
>_Предположим, вы работаете над приложением для обработки данных и вам нужно реализовать функцию сортировки, которая позволит пользователям сортировать данные различными способами. Вы решаете использовать шаблон проектирования «Стратегия» для реализации различных алгоритмов сортировки._
## Ключевые компоненты паттерна Стратегия
* __Контекст:__ Класс, содержащий ссылку на интерфейс стратегии и отвечающий за выполнение алгоритма.
* __Интерфейс стратегии:__ Интерфейс или абстрактный класс, объявляющий метод(ы) для алгоритма. Различные стратегии реализуют этот интерфейс.
* __Конкретные стратегии:__ Различные алгоритмы, реализующие интерфейс стратегии.

## Диаграмма паттерна Стратегия
<figure>
    <img src ="/assets/images/Diagram_Strategy.jpg" alt = "Strategy">
</figure>

## Пример
```c++
#include <iostream>

class Strategy {
public:
    virtual void execute() = 0;
};

class ConcreteStrategyA : public Strategy {
public:
    void execute() override { std::cout << "Strategy A\n"; }
};

class ConcreteStrategyB : public Strategy {
public:
    void execute() override { std::cout << "Strategy B\n"; }
};

class Context {
    Strategy* strategy;
public:
    Context(Strategy* s) : strategy(s) {}
    void setStrategy(Strategy* s) { strategy = s; }
    void executeStrategy() { strategy->execute(); }
};

int main() {
    ConcreteStrategyA strategyA;
    ConcreteStrategyB strategyB;

    Context context(&strategyA);
    context.executeStrategy();  // Strategy A

    context.setStrategy(&strategyB);
    context.executeStrategy();  // Strategy B

    return 0;
}
```
## Преимущества шаблона проектирования стратегии
✅ __Гибкость:__ Простое переключение между различными алгоритмами во время выполнения.
✅ __Возможность повторного использования кода:__ Стратегии можно использовать повторно в различных контекстах.
✅ __Способствует единоличной ответственности:__ Каждая стратегия ориентирована на конкретный алгоритм.

## Недостатки шаблона проектирования стратегии
❌ Может привести к увеличению количества классов, что может оказаться чрезмерным для небольших приложений.
❌ Контекст и классы стратегий обычно взаимодействуют через интерфейс, заданный абстрактным базовым классом Strategy. Базовый класс Strategy должен предоставлять интерфейс для всех необходимых действий, которые могут не реализовываться в некоторых конкретных классах стратегий.
❌ В большинстве случаев приложение настраивает Context с помощью необходимого объекта Strategy. Таким образом, приложению нужно создать и поддерживать два объекта вместо одного.

## Где применяется?
1. Сортировка (QuickSort, MergeSort).
2. Оплата (CreditCard, PayPal).