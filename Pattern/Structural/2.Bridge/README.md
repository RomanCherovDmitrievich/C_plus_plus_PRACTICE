# 2. Мост (Bridge)
Суть: Разделяет абстракцию и реализацию, чтобы они могли изменяться независимо.

Шаблон «Мост» — это, по сути, структурный шаблон проектирования в разработке программного обеспечения или в программировании на C++, который используется для отделения абстракции объекта от его реализации. Он входит в набор шаблонов проектирования «Банды четырёх» (Gang of Four, GoF) и особенно полезен, когда нам нужно избежать постоянной связи между абстракцией и её реализацией. Шаблон «Мост» обеспечивает гибкость и позволяет нам независимо изменять как абстракцию, так и реализацию.

## Задача
>_Предположим, мы хотим создать программу для рисования, в которой будут использоваться различные фигуры (например, круги и квадраты) и разные методы рендеринга (например, векторный и растровый). Шаблон «Мост» поможет нам отделить фигуры (абстракция) от методов рендеринга (реализация)._

## Ключевые компоненты паттерна Мост
1. __Абстракция:__
Это высокоуровневая часть системы или кода, которая определяет интерфейс для клиентского кода. По сути, она содержит ссылку на объект реализации, но не реализует поведение самостоятельно. Абстракция определяет методы и свойства, которые может использовать клиентский код.
2. __Уточнённая абстракция:__
Это конкретные классы, которые расширяют абстракцию и предоставляют конкретные реализации высокоуровневого интерфейса. Уточнённые абстракции — это то, с чем взаимодействует клиентский код.
3. __Реализация:__
Это низкоуровневая часть системы или кода, которая определяет интерфейс для реализации конкретных функций. Реализация отделена от абстракции и может разрабатываться независимо. Она может иметь несколько реализаций, каждая из которых может использоваться в различных уточнённых абстракциях.
4. __Конкретная реализация:__
По сути, это конкретные классы, реализующие низкоуровневый интерфейс. Каждая конкретная реализация обеспечивает определённый способ выполнения базовых функций. Для разных платформ, баз данных или технологий может существовать несколько конкретных реализаций.

## Диаграмма паттерна Мост
<figure>
    <img src ="/assets/images/Diagram_Bridge.png" alt = "Bridge">
</figure>

## Пример
```c++
#include <iostream>

class Shape {
public:
    virtual void draw() = 0;
};

class Renderer {
public:
    virtual void render() = 0;
};

class VectorRenderer : public Renderer {
public:
    void render() override
    {
        std::cout << "Rendering as a vector\n";
    }
};

class RasterRenderer : public Renderer {
public:
    void render() override
    {
        std::cout << "Rendering as a raster\n";
    }
};

class Circle : public Shape {
public:
    Circle(Renderer& renderer)
        : renderer(renderer)
    {
    }

    void draw() override
    {
        std::cout << "Drawing a circle ";
        renderer.render();
    }

private:
    Renderer& renderer;
};

class Square : public Shape {
public:
    Square(Renderer& renderer)
        : renderer(renderer)
    {
    }

    void draw() override
    {
        std::cout << "Drawing a square ";
        renderer.render();
    }

private:
    Renderer& renderer;
};

int main()
{
    VectorRenderer vectorRenderer;
    RasterRenderer rasterRenderer;

    Circle circle(vectorRenderer);
    Square square(rasterRenderer);

    circle.draw(); 
    square.draw(); 

    return 0;
}
```
## Преимущества шаблона проектирования Мост
✅ __Масштабируемость:__ Когда нашей системе нужно обрабатывать растущее число абстракций и реализаций, шаблон «Мост» предоставляет масштабируемый способ управления и организации этих комбинаций.

✅ __Разделение абстракции и реализации:__ Одним из основных преимуществ шаблона «Мост» является то, что он отделяет абстракцию (высокоуровневую часть системы) от её реализации (низкоуровневой части). Такое разделение позволяет минимизировать влияние изменений в одной части системы на другую.

✅ __Повышает расширяемость:__ Шаблон моста упрощает добавление новых абстракций или реализаций без изменения существующего кода. Такая расширяемость особенно полезна при работе со сложными системами.

✅ __Улучшенная поддержка:__ После того как изменения в абстракции и реализации будут изолированы, код станет проще поддерживать. Таким образом, мы можем изменять или расширять каждую часть, не затрагивая другие, что снижает вероятность появления ошибок.

✅ __Поддерживает независимость от платформы:__ Шаблон моста полезен, когда нам нужно поддерживать несколько платформ или баз данных. Мы можем создавать реализации для конкретных платформ и переключаться между ними, не изменяя код абстракции.

✅ __Упрощает клиентский код:__ Клиенты, использующие шаблон моста, могут работать с абстракцией, не вдаваясь в детали реализации. Это упрощает клиентский код и снижает его сложность.

## Недостатки шаблона проектирования Мост
❌ __Накладные расходы:__ Использование паттерна «Мост» может привести к дополнительным расходам из-за необходимости в нескольких классах и взаимодействии между ними. Это может повлиять на производительность в определённых ситуациях, хотя в большинстве случаев влияние незначительно и не вызывает серьёзных опасений.

❌ __Повышенная сложность:__ Реализация шаблона Bridge может привести к появлению дополнительных классов и связей между ними. Эта дополнительная сложность может затруднить понимание кода, особенно в простых сценариях. Важно использовать шаблон Bridge, когда преимущества перевешивают эту дополнительную сложность.

❌ __Увеличение количества классов:__ Шаблон «Мост» может привести к увеличению количества классов в нашей кодовой базе. При отсутствии должного контроля такое разрастание классов может усложнить навигацию по системе и её поддержку.

❌ __Сложность управления несколькими реализациями:__ Если у нас много абстракций и реализаций, управление всеми комбинациями и обеспечение их корректной работы может оказаться непростой задачей. Это может привести к увеличению трудозатрат на тестирование и поддержку.

❌ __Возможность неправильного использования:__ Хотя паттерн «Мост» полезен в определённых ситуациях, его можно использовать неправильно в тех случаях, когда достаточно более простых решений. Использование паттерна без необходимости может привести к ненужной сложности и снижению удобства сопровождения кода.

## Когда применять?
1. Пульты дистанционного управления
2. Независимые от платформы графические библиотеки
3. Абстракция базы данных
4. Фреймворки для графического интерфейса
5. Абстракция файловой системы
6. Программное обеспечение драйвера устроиств