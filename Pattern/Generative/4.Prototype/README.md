# 4. Прототип (Prototype)
__Суть:__
Создание новых объектов путём копирования существующих (клонов).

Шаблон проектирования «__Прототип__» — полезный инструмент при разработке программного обеспечения. Он относится к категории шаблонов проектирования, известных как Шаблоны создания , которые связаны с созданием объектов. Шаблон «Прототип» позволяет эффективно создавать объекты путем копирования существующего объекта, который мы называем прототипом.

## Основные компоненты прототипа
* __Интерфейс-прототип:__ Определяет общий интерфейс или абстрактный класс, который должны реализовывать все конкретные классы-прототипы. Этот интерфейс обычно включает метод для клонирования объекта.
* __Конкретные прототипы:__ Это реальные объекты, реализующие интерфейс прототипа. Каждый конкретный класс-прототип предоставляет реализацию метода клонирования, который создает копию объекта.
* __Клиент:__ Код клиента отвечает за создание новых объектов путём клонирования существующих прототипов. Вместо того чтобы создавать объекты напрямую с помощью ключевого слова new, клиент запрашивает у прототипа клонирование самого себя.

## Пример
```c++
class Shape {
public:
    virtual Shape* clone() const = 0;
    virtual void draw() const = 0;
};

class Circle : public Shape {
public:
    Circle(int r) : radius(r) {}
    Shape* clone() const override { return new Circle(*this); }
    void draw() const override { std::cout << "Drawing Circle (r=" << radius << ")\n"; }

private:
    int radius;
};
```
## Преимущества шаблона проектирования Прототип
✅ __Эффективное создание объектов:__ позволяет создавать новые объекты путём копирования существующих, что может быть быстрее и эффективнее, чем создание объектов с нуля.

✅ __Гибкость:__ Это гибкий способ создания объектов с различными конфигурациями или состояниями путем клонирования прототипов, что снижает потребность в сложной инициализации.

✅ __Сокращает дублирование кода:__ Это помогает сократить дублирование кода за счет централизации логики создания в одном месте (в прототипе) и ее повторного использования в кодовой базе.

## Недостатки шаблона проектирования Прототип
❌ __Сложность:__ Реализация шаблона проектирования «Шаблонный метод» может быть сложной, особенно при глубоком копировании сложных объектов.

❌ __Не подходит для всех сценариев:__ Может не подойти для всех сценариев, особенно если объекты имеют циклические ссылки или сложные взаимозависимости.

❌ __Использование памяти:__ При неправильном управлении клонирование объектов может привести к увеличению потребления памяти и потенциальным утечкам памяти.

## Когда применять?
1. Когда создание объекта дороже, чем копирование.